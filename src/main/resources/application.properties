spring.application.name=countriesMVC

# Server Configuration
server.port=${SERVER_PORT:8089}

# Database Configuration
# Environment variables can override these values (e.g., SPRING_DATASOURCE_URL)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/countries?currentSchema=countries_mvc_schema}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:abu2004khader}
spring.datasource.driver-class-name=${SPRING_DATASOURCE_DRIVER_CLASS_NAME:org.postgresql.Driver}

# Flyway Configuration
# Flyway automatically uses the same datasource as configured above
spring.flyway.enabled=${SPRING_FLYWAY_ENABLED:true}
spring.flyway.locations=${SPRING_FLYWAY_LOCATIONS:classpath:db/migration}
spring.flyway.baseline-on-migrate=${SPRING_FLYWAY_BASELINE_ON_MIGRATE:true}

# Enable debug logging for Flyway
logging.level.org.flywaydb=DEBUG
logging.level.org.springframework.boot.autoconfigure.flyway=DEBUG

# Redis Configuration
spring.data.redis.host=${SPRING_DATA_REDIS_HOST:localhost}
spring.data.redis.port=${SPRING_DATA_REDIS_PORT:6379}
spring.data.redis.timeout=${SPRING_DATA_REDIS_TIMEOUT:60000}
spring.data.redis.jedis.pool.max-active=${SPRING_DATA_REDIS_POOL_MAX_ACTIVE:8}
spring.data.redis.jedis.pool.max-idle=${SPRING_DATA_REDIS_POOL_MAX_IDLE:8}
spring.data.redis.jedis.pool.min-idle=${SPRING_DATA_REDIS_POOL_MIN_IDLE:0}
spring.data.redis.jedis.pool.max-wait=${SPRING_DATA_REDIS_POOL_MAX_WAIT:-1ms}

# Cache Configuration
cache.ttl.country=${CACHE_TTL_COUNTRY:3600}
cache.ttl.countries-list=${CACHE_TTL_COUNTRIES_LIST:1800}
cache.ttl.countries-region=${CACHE_TTL_COUNTRIES_REGION:1800}

